const milk_tube_b_2 = document.querySelector('#milk_tube_b_2');
const milk_tube_a_2 = document.querySelector('#milk_tube_a_2');

const sampleTempDisplay2 = document.getElementById("sampleTempDisplay2");
const settimerDisplay = document.getElementById("settimerDisplay");
const actualTimerDisplay = document.getElementById("actualTimerDisplay");
const sampletimerDisplay = document.getElementById("sampletimerDisplay");

const sampletimerDisplay1 = document.querySelector("#sampletimerDisplay1");
const sampletimerDisplay2 = document.querySelector("#sampletimerDisplay2");
const closed_methylene_blue_tube_b = document.querySelector('#closed_methylene_blue_tube_b'); 
const closed_methylene_blue_tube_c = document.querySelector('#closed_methylene_blue_tube_c'); 
const closed_methylene_blue_tube_d = document.querySelector('#closed_methylene_blue_tube_d'); 
const closed_methylene_blue_tube_a = document.querySelector('#closed_methylene_blue_tube_a'); 

const closed_white_tube_a_mbrt = document.querySelector('#closed_white_tube_a_mbrt'); 
const closed_white_tube_b_mbrt = document.querySelector('#closed_white_tube_b_mbrt'); 
const closed_white_tube_c_mbrt = document.querySelector('#closed_white_tube_c_mbrt');
const closed_white_tube_d_mbrt = document.querySelector('#closed_white_tube_d_mbrt'); 

const test_tube_mbrt_a = document.querySelector('#test_tube_mbrt_a'); 
const test_tube_mbrt_b = document.querySelector('#test_tube_mbrt_b'); 
const test_tube_mbrt_c = document.querySelector('#test_tube_mbrt_c'); 
const test_tube_mbrt_d = document.querySelector('#test_tube_mbrt_d'); 

const observation_table_mbrt = document.querySelector('#observation_table_mbrt'); 
 const time_A = document.getElementById("time-A");
 const quality_A = document.getElementById("quality-A");
  const time_B = document.getElementById("time-B");
   const time_C = document.getElementById("time-C");
    const time_D = document.getElementById("time-D");
     const quality_B = document.getElementById("quality-B");
      const quality_C = document.getElementById("quality-C");
       const quality_D = document.getElementById("quality-D");

              const inferenceBtn_mbrt = document.getElementById("inferenceBtn_mbrt");
                   const inferenceBox_mbrt = document.getElementById("inferenceBox_mbrt");
window.onload = function() {


const pipette_centrifuge2 = document.querySelector('#pipette_centrifuge2');

const milk_a_2_50ml = document.querySelector('#milk_a_2_50ml');

const milk_tube_b_2 = document.querySelector('#milk_tube_b_2');
const milk_tube_c_2 = document.querySelector('#milk_tube_c_2');
const milk_tube_d_2 = document.querySelector('#milk_tube_d_2');

const milk_strip_a_2 = document.querySelector('#milk_strip_a_2');
const milk_10ml_b = document.querySelector('#milk_10ml_b');

const milk_10ml_c = document.querySelector('#milk_10ml_c'); 

const milk_10ml_a = docuhment.querySelector('#milk_10ml_a'); 
const milk_b_2_50ml = document.querySelector('#milk_b_2_50ml');
const milk_c_2_50ml = document.querySelector('#milk_c_2_50ml');
const milk_d_2_50ml = document.querySelector('#milk_d_2_50ml');

const milk_strip_b_2 = document.querySelector('#milk_strip_b_2');
const milk_strip_c_2 = document.querySelector('#milk_strip_c_2');
const milk_strip_d_2 = document.querySelector('#milk_strip_d_2');

const methylene_blue_1ml = document.querySelector('#methylene_blue_1ml');
const methylene_mid_blue = document.querySelector('#methylene_mid_blue'); 
const methylene_mid_blue_b = document.querySelector('#methylene_mid_blue_b'); 
const methylene_blue_tube = document.querySelector('#methylene_blue_tube'); 
const methylene_blue_tube_b = document.querySelector('#methylene_blue_tube_b'); 
const methylene_blue_tube_c = document.querySelector('#methylene_blue_tube_c'); 
const methylene_blue_tube_d = document.querySelector('#methylene_blue_tube_d'); 

const methylene_blue_drop1 = document.querySelector('#methylene_blue_drop1');  
const methylene_blue_drop2 = document.querySelector('#methylene_blue_drop2');  
const methylene_blue_drop3 = document.querySelector('#methylene_blue_drop2');  
const methylene_blue_drop4 = document.querySelector('#methylene_blue_drop2');  
const methylene_blue_drop5 = document.querySelector('#methylene_blue_drop2');  
const methylene_blue_drop6 = document.querySelector('#methylene_blue_drop2');  

const methylene_blue_1ml_b = document.querySelector('#methylene_blue_1ml_b');
const methylene_blue_1ml_c = document.querySelector('#methylene_blue_1ml_c');
const methylene_blue_1ml_d = document.querySelector('#methylene_blue_1ml_d');
const methylene_blue_drop1_b = document.querySelector('#methylene_blue_drop1_b');  
const methylene_blue_drop2_b = document.querySelector('#methylene_blue_drop2_b'); 

let stp99 = document.querySelector("#stp99")


const onSwitchHolder2 = document.getElementById("onSwitchHolder2");
const setOff2 = document.getElementById("setOff2");
const setOn2 = document.getElementById("setOn2");
const setButtonHolder2 = document.getElementById("setButtonHolder2");
const downOnSwitch2 = document.getElementById("downOnSwitch2");
const upOnSwitch2 = document.getElementById("upOnSwitch2");
const upOffSwitch2 = document.getElementById("upOffSwitch2");
const downSwitch2 = document.getElementById("downSwitch2");
const offSwitch2 = document.getElementById("offSwitch2");
const onSwitch2 = document.getElementById("onSwitch2");
const waterbath2 = document.getElementById("waterbath2");

const butyrometer2 = document.querySelector('#butyrometer2');
const tilted_butyrometer3 = document.querySelector('#tilted_butyrometer2');
const straight_butyrometer3 = document.querySelector('#straight_butyrometer2');
const cap3 = document.querySelector('#butyrometer_cork12');

const sampleTempDisplay2 = document.getElementById("sampleTempDisplay2");
const setTempDisplay2 = document.getElementById("setTempDisplay2");
const actualTempDisplay2 = document.getElementById("actualTempDisplay2");

const timerDisplay2 = document.querySelector("#timerDisplay2");
const timerDisplay = document.querySelector("#timerDisplay");

const timerDisplay22 = document.querySelector("#timerDisplay23");

const tiltedsol12 = document.getElementById("tiltedsol12");

const sampleTempDisplay12 = document.getElementById("sampleTempDisplay12");
const actualTempDisplay12 = document.getElementById("actualTempDisplay12");
const tube_cap_a = document.getElementById("tube_cap_a");
const tube_cap_c = document.getElementById("tube_cap_c");
const tube_cap_d = document.getElementById("tube_cap_d");

const tube_cap_A = document.getElementById("tube_cap_A");

const tube_cap_b = document.getElementById("tube_cap_b");

const test_tube_a_2 = document.querySelector('#test_tube_a_2');
// const test_tube_b_3 = document.querySelector('#test_tube_b_3');

const tongs_upper = document.querySelector('#tongs_upper');
const tongs_down = document.querySelector('#tongs_down');



const closed_methylene_blue_tube_a_2 = document.querySelector('#closed_methylene_blue_tube_a_2'); 

const closed_methylene_blue_tube_b_2 = document.querySelector('#closed_methylene_blue_tube_b_2'); 

const closed_white_tube_a = document.querySelector('#closed_white_tube_a'); 
const closed_white_tube_b = document.querySelector('#closed_white_tube_b'); 
const closed_light_blue_tube = document.querySelector('#closed_light_blue_tube'); 
const closed_pale_blue_tube = document.querySelector('#closed_pale_blue_tube'); 
const tilted_light_blue_tube = document.querySelector('#tilted_light_blue_tube'); 

const inverted_pale_blue_tube = document.querySelector('#inverted_pale_blue_tube'); 

const inverted_methylene_blue_tube_a = document.querySelector('#inverted_methylene_blue_tube_a'); 
const inverted_methylene_blue_tube_b = document.querySelector('#inverted_methylene_blue_tube_b'); 

const tongs_A = document.querySelector('#tongs_A');

const tongs_upper2 = document.querySelector('#tongs_upper2');
const tongs_down2 = document.querySelector('#tongs_down2');

const tongs_upper3 = document.querySelector('#tongs_upper3');
const tongs_down3 = document.querySelector('#tongs_down3');

const tongs_upper4 = document.querySelector('#tongs_upper4');
const tongs_down4 = document.querySelector('#tongs_down4');


pipette2();
















// if(f === 150){
//       console.log("f was 150 → changing to 150.5");
//   f = 150.5;
//   console.log(f)
//  milk_tube_b_3();
// }

  console.log("f for 150 is running !!")







// Gradually increase sample temperature

let currentSampleTemp = 25



upOffSwitch2.addEventListener("click", () => {
    f=156;
    if (currentSampleTemp < 37) {
        // Show ON version briefly with pressed effect
        upOnSwitch2.style.display = "block";
        upOnSwitch2.style.borderRadius = "25%";

        // Hide OFF version temporarily
        upOffSwitch2.style.opacity = "0%";

        // Show pulse effect and increase temp
        pulse(upOnSwitch2);
        pulse(sampleTempDisplay2);

        currentSampleTemp++;
        sampleTempDisplay2.textContent = `${currentSampleTemp}°C`;
         
        // Instruction message
       ins.innerText = "Increase the sample temp of water bath to 37°C"

        // After short time, restore OFF version, hide ON version, reset radius
        setTimeout(() => {

            upOnSwitch2.style.display = "none";
            upOffSwitch2.style.opacity = "100%";
            upOnSwitch2.style.borderRadius = "50%"; // reset radius
        }, 300); // Duration of switch click simulation
    }else{ f=1500 , ins.innerText = "Click on the set button to set the temperature to 37°C"}
});

 
setOff2.addEventListener("click", () => {
 if (f === 1500) {
      f=156.5;
    pulse(setOff2);
    
    setOn2.style.opacity = "100%";
    setOff2.style.opacity = "0%";
    ins.innerText = `Temperature set to ${currentSampleTemp}°C`;

    let actualTemp = 25;
    let timerValue = 300; // 5 minutes
    let currentTime = timerValue;
 
    actualTempDisplay2.textContent = `${actualTemp}°C`;

    // timerDisplay12.style.opacity = "0%";
    // timerDisplay22.style.opacity = "0%";

    // ➤ Temperature increase (gradual then fast)
    let secondsPassed = 0;
    let timecomplete = false;

    const gradualTemp = setInterval(() => {
        secondsPassed++;
        if (actualTemp < currentSampleTemp) {
            actualTemp++;
            actualTempDisplay2.textContent = `${actualTemp}°C`;
        }

        if (secondsPassed >= 7 || actualTemp >= currentSampleTemp) {
            clearInterval(gradualTemp);
  ins.innerText = "wait to temperature reaches to 65°C ";
            // ➤ Fast increase to 65°C
            const fastIncrease = setInterval(() => {
                 ins.innerText = "wait to temperature reaches to 65°C ";
                if (actualTemp >= 37) {
                    
                    clearInterval(fastIncrease);
                      ins.innerText = "Click on the tongs to put the tubes in water bath for 30 minutes to decolourise it completely";
                      f = 321;
                    console.log("the value of f just after water bath complete heating ..", f)  
                    // ➤ Start Timer Display Only AFTER Temperature Logic Ends
                   tongs();
                      
                } else {
                    actualTemp++;
                    actualTempDisplay2.textContent = `${actualTemp}°C`;
                     ins.innerText = "wait to temperature reaches to 37°C ";
                   
                }
            }, 400); // Fast increase  // 25
        }
    }, 0); // Gradual increase  // 200 b // 1000
  }else{console.log("not running")}

  },)


console.log("here new f is ", f)




 function startFastCountdown(onFinish) {
  if (f === 550) {
    f = 551;
    let remainingSeconds = 30 * 60;  // 30*60  // 30 minutes = 1800 seconds
    const speed = 0; //10 // 1 simulated second = 10 ms (super fast)
    const display = document.getElementById("timerDisplay");
    const ins = document.getElementById("text"); // get your message element

    console.log("⏳ Countdown started (fast 30-minute simulation)...");

    // Show instruction while timer runs
    ins.innerText = "⏳ Wait for 30 minutes to see if it decolourises completely or not.";

    const timer = setInterval(() => {
      // Decrease one simulated second
      remainingSeconds--;

      // Calculate minutes and seconds
      let minutes = Math.floor(remainingSeconds / 60);
      let seconds = remainingSeconds % 60;

      // Format to always show two digits
      let formattedTime =
        String(minutes).padStart(2, "0") + ":" +
        String(seconds).padStart(2, "0");

      // Show on screen
      display.textContent = formattedTime;

      if (remainingSeconds <= 0) {
        clearInterval(timer);
        console.log("✅ Countdown complete!");
        display.textContent = "00:00 ✅ Done";
        ins.innerText = "Time complete! Check if it has decolourised.Now click on the tongs to see the tube is decolourise completely or not";
       
        f = 552;
        onFinished()
      }
    }, speed);
  }
}

    

    // Start timer after a small delay



   function startFastCountdown2() {
  if (f === 554) {
    f = 555;
    console.log("second timer starts")
    let remainingSeconds = 0;  // 120*60 // 30 minutes = 1800 seconds
    const speed = 0; //10 // 1 simulated second = 10 ms (super fast)
    const display = document.getElementById("timerDisplay");
    const ins = document.getElementById("text"); // get your message element

    console.log("....Countdown started (fast 30-minute simulation)...");

    // Show instruction while timer runs
    ins.innerText = "⏳ Wait for 2 hours to see is it decolourises completely or not.";

    const timer = setInterval(() => {
      // Decrease one simulated second
      remainingSeconds--;

      // Calculate minutes and seconds
      let minutes = Math.floor(remainingSeconds / 60);
      let seconds = remainingSeconds % 60;

      // Format to always show two digits
      let formattedTime =
        String(minutes).padStart(2, "0") + ":" +
        String(seconds).padStart(2, "0");

      // Show on screen
      display.textContent = formattedTime;

      if (remainingSeconds <= 0) {
        clearInterval(timer);
        console.log("✅ Countdown complete!");
        display.textContent = "00:00 ✅ Done";
        ins.innerText = "Time complete! Check if it has decolourised.Now click on the tongs to see the tube is decolourise completely or not";
       
        f = 556;
        onFinished2()
        timerDisplay.style.opacity = "0%";
      }
    }, speed);
  }
}

    // Start timer after a small delay
 function onFinished2() {   
    setTimeout(() => {
       ins.innerText = "Click on the tongs again to Check it decolourised completely or not"
       closed_light_blue_tube.style.opacity = "0%";
       closed_pale_blue_tube.style.opacity = "100%";
      if (f === 556) {
    f = 557;   tongs_down2.addEventListener("click", () => {
     setTimeout(() => {
        tongs_down2.style.bottom = "36%";
                 tongs_upper2.style.bottom = "39%";
                 
                     setTimeout(() => {
                       tongs_down2.style.left = "21.5%";
                 tongs_upper2.style.left = "21.5%";
                  setTimeout(() => {
                     closed_pale_blue_tube.style.bottom = "60%";
                     tongs_down2.style.bottom = "70%";
                 tongs_upper2.style.bottom = "73%";
                 ins.innerText = "Now the solution color is pale blue required to put for half more hours in water bath to decolourise completely."
                  setTimeout(() => {
                    ins.innerText = "Invert for some time and put again in watebath for 30 more minutes to decolourise completely"
                    inverted_pale_blue_tube.style.opacity = "100%";
                    closed_pale_blue_tube.style.opacity = "0%";
                      setTimeout(() => {
                           inverted_pale_blue_tube.style.opacity = "0%";
                    closed_pale_blue_tube.style.opacity = "100%";
                      setTimeout(() => {
                          inverted_pale_blue_tube.style.opacity = "100%";
                    closed_pale_blue_tube.style.opacity = "0%";
                      setTimeout(() => {
                          inverted_pale_blue_tube.style.opacity = "0%";
                    closed_pale_blue_tube.style.opacity = "100%";
                           setTimeout(() => {
                               tongs_down2.style.bottom = "36%";
                 tongs_upper2.style.bottom = "39%";
                   closed_pale_blue_tube.style.bottom = "23%";
                    setTimeout(() => {
                         closed_pale_blue_tube.style.bottom = "14.9%";
                         f = 558;
                         startFastCountdown3()
                           setTimeout(() => {
                              tongs_down2.style.left = "50%";
                 tongs_upper2.style.left = "50%";
                  setTimeout(() => {
                      tongs_down2.style.bottom = "12%";
                 tongs_upper2.style.bottom = "15%";
                     }, 1000);
                              }, 1000);
                        }, 1000);
                               }, 1000);
                            }, 1000);
                          }, 1000);
                          }, 1000);
                      }, 1000);
                      }, 1000);
                        }, 1000);
        }, 1000);
      }, { once: true });
    }else{console.log("not run white tube ..")}
      
    }, 2000); // starts after 1 sec
  }




 function startFastCountdown3() {
  if (f === 558) {
    f = 559;
    console.log("f is 559")
    let remainingSeconds = 0;  // 30*60  // 30 minutes = 1800 seconds
    const speed = 0; //10 // 1 simulated second = 10 ms (super fast)
    const display = document.getElementById("timerDisplay");
    const ins = document.getElementById("text"); // get your message element
    timerDisplay.style.opacity = "100%"

    console.log("⏳ Countdown started (fast 30-minute simulation)...");

    // Show instruction while timer runs
    ins.innerText = "⏳ Wait for 30 minutes to see if it decolourises completely or not.";

    const timer = setInterval(() => {
      // Decrease one simulated second
      remainingSeconds--;

      // Calculate minutes and seconds
      let minutes = Math.floor(remainingSeconds / 60);
      let seconds = remainingSeconds % 60;

      // Format to always show two digits
      let formattedTime =
        String(minutes).padStart(2, "0") + ":" +
        String(seconds).padStart(2, "0");

      // Show on screen
      display.textContent = formattedTime;

      if (remainingSeconds <= 0) {
        clearInterval(timer);
        console.log("✅ Countdown complete!");
        display.textContent = "00:00 ✅ Done";
        ins.innerText = "Time complete! Check if it has decolourised.Now click on the tongs to see the tube is decolourise completely or not";
       
        f = 560;
        onFinished3()
      }
    }, speed);
  }
}

    // Start timer after a small delay


}

function pipette2() {

  if (f === 99) {
    f = 100;

    console.log("pipette");
    console.log("heloo world....");

    tube_cap_a.style.opacity = "100%";
    tube_cap_b.style.opacity = "100%";

    pipette_centrifuge2.addEventListener("click", () => {

      pipette_centrifuge2.style.rotate = "0deg";

      setTimeout(function () {
        pipette_centrifuge2.style.bottom = "35%";

        setTimeout(function () {
          pipette_centrifuge2.style.left = "8%";

          setTimeout(function () {
            pipette_centrifuge2.style.bottom = "22%";

            setTimeout(function () {

              milk_a_2_50ml.style.height = "13.0%";
              milk_10ml_a.style.height = "21.4%";

              setTimeout(function () {
                pipette_centrifuge2.style.bottom = "53%";
                milk_10ml_a.style.bottom = "53%";

                setTimeout(function () {
                  pipette_centrifuge2.style.left = "74%";
                  milk_10ml_a.style.left = "75.1%";

                  setTimeout(function () {
                    pipette_centrifuge2.style.bottom = "43%";
                    milk_10ml_a.style.bottom = "43%";

                    setTimeout(function () {
                      milk_strip_a_2.style.height = "32.2%";

                      setTimeout(function () {
                        milk_tube_a_2.style.height = "17.8%";
                         test_tube_mbrt_a.style.visibility = "hidden"
                        test_tube_a_2.style.visibility = "visible"
                        setTimeout(function () {
                          milk_strip_a_2.style.opacity = "0%";
                          milk_10ml_a.style.opacity = "0%";

                          setTimeout(function () {
                            pipette_centrifuge2.style.bottom = "55%";
                            pipette_centrifuge2.style.zIndex = "5";

                            setTimeout(function () {
                              pipette_centrifuge2.style.left = "17.1%";

                              f = 101;
                              f = 102;

                              setTimeout(function () {
                                pipette_centrifuge2.style.bottom = "22.4%";

                                setTimeout(function () {
                                  milk_10ml_b.style.height = "21.4%";
                                  milk_b_2_50ml.style.height = "13.0%";

                                  setTimeout(function () {
                                    pipette_centrifuge2.style.bottom = "60.4%";
                                    milk_10ml_b.style.bottom = "60.4%";

                                    setTimeout(function () {
                                      pipette_centrifuge2.style.left = "77.6%";
                                      milk_10ml_b.style.left = "78.7%";

                                      setTimeout(function () {
                                        pipette_centrifuge2.style.bottom = "40.4%";
                                        milk_10ml_b.style.bottom = "40.4%";

                                        setTimeout(function () {
                                          milk_strip_b_2.style.height = "32.2%";

                                          setTimeout(function () {
                                            milk_tube_b_2.style.height = "17.8%";

                                            setTimeout(function () {
                                              milk_10ml_b.style.opacity = "0%";
                                              milk_strip_b_2.style.opacity = "0%";
                                              pipette_centrifuge2.style.zIndex = "20";

                                              setTimeout(function () {
                                                pipette_centrifuge2.style.bottom = "60.4%";
                                                pipette_centrifuge2.style.zIndex = "5";

                                                setTimeout(function () {
                                                  pipette_centrifuge2.style.left = "28.1%";

                                                  setTimeout(function () {
                                                    pipette_centrifuge2.style.bottom = "20%";

                                                    setTimeout(function () {
                                                      milk_10ml_c.style.height = "17.8%";
                                                      milk_c_2_50ml.style.height = "13%";
                                                                        test_tube_b_2.style.visibility = "visible"
                                                                            test_tube_mbrt_b.style.visibility = "hidden"
                                                      setTimeout(function () {
                                                        pipette_centrifuge2.style.bottom = "54%";
                                                        milk_10ml_c.style.bottom = "54%";

                                                        if (f === 102) {
                                                          f = 103;

                                                          setTimeout(function () {
                                                            pipette_centrifuge2.style.left = "81%";
                                                            milk_10ml_c.style.left = "82%";

                                                            setTimeout(function () {
                                                              pipette_centrifuge2.style.bottom = "41%";
                                                              milk_10ml_c.style.bottom = "42%";

                                                              setTimeout(function () {
                                                                milk_10ml_c.style.opacity = "0%";
                                                                milk_strip_c_2.style.height = "32.2%";
                                                                milk_tube_c_2.style.height = "17.8%";
                                                                            test_tube_c.style.visibility = "visible"
                                                                            test_tube_mbrt_c.style.visibility = "hidden"
                                                                setTimeout(function () {
                                                                  milk_strip_c_2.style.opacity = "0%";

                                                                  setTimeout(function () {
                                                                    pipette_centrifuge2.style.bottom = "55%";

                                                                    setTimeout(function () {
                                                                      pipette_centrifuge2.style.left = "40%";

                                                                      setTimeout(function () {
                                                                        pipette_centrifuge2.style.bottom = "25%";

                                                                        setTimeout(function () {
                                                                          milk_10ml_d.style.height = "21.4%";
                                                                          milk_d_2_50ml.style.height = "13.0%";

                                                                          setTimeout(function () {
                                                                            pipette_centrifuge2.style.bottom = "55%";
                                                                            milk_10ml_d.style.bottom = "55%";

                                                                            setTimeout(function () {
                                                                              milk_10ml_d.style.left = "85.9%";
                                                                              pipette_centrifuge2.style.left = "84.8%";

                                                                              setTimeout(function () {
                                                                                milk_10ml_d.style.bottom = "42%";
                                                                                pipette_centrifuge2.style.bottom = "42%";

                                                                                setTimeout(function () {
                                                                                  milk_10ml_d.style.opacity = "0%";
                                                                                  milk_strip_d_2.style.height = "32.2%";
                                                                                  milk_tube_d_2.style.height = "17.8%";
                                                                                             test_tube_d.style.visibility = "visible"
                                                                            test_tube_mbrt_d.style.visibility = "hidden"
                                                                                  setTimeout(function () {
                                                                                    milk_strip_d_2.style.opacity = "0%";
                                                                                    pipette_centrifuge2.style.bottom = "60%";
                                                                                    pipette_centrifuge2.style.zIndex = "20";

                                                                                    setTimeout(function () {
                                                                                      pipette_centrifuge2.style.left = "30%";
                                                                                      f = 103.5;

                                                                                      setTimeout(function () {
                                                                                        pipette_centrifuge2.style.rotate = "-90deg";
                                                                                        pipette_centrifuge2.style.bottom = "-4%";
                                                                                               ins.innerText = "Click on the pipette to transfter 1ml methylene blue solution to each tube"
                                                                                        pipette_centrifuge2.addEventListener("click", () => {
                                                                                          if (f === 103.5) {
                                                                                            pipette_centrifuge2.style.rotate = "0deg";
                                                                                            pipette_centrifuge2.style.bottom = "50%";
                                                                                                setTimeout(function () {
                                                                                                   pipette_centrifuge2.style.left= "50.6%"
                                                                                                   setTimeout(function () {
                                                                                                          pipette_centrifuge2.style.bottom = "30%";
                                                                                                  setTimeout(function () {
                                                                                                    methylene_blue_1ml.style.visibility = "visible";
                                                                                                    setTimeout(function () {
                                                                                                      methylene_blue_1ml.style.bottom = "65%";
                                                                                                      pipette_centrifuge2.style.bottom = "65%";
                                                                                                       setTimeout(function () {
                                                                                                        pipette_centrifuge2.style.left= "74.1%"
                                                                                                       methylene_blue_1ml.style.left = "75.2%"
                                                                                                         setTimeout(function () {
                                                                                                            methylene_blue_1ml.style.bottom = "45%";
                                                                                                             pipette_centrifuge2.style.bottom = "45%";
                                                                                                              setTimeout(function () {
                                                                                                                methylene_blue_drop2.style.opacity = "100%" 
                                                                                                                methylene_blue_drop1.style.opacity = "0%"
                                                                                                                 setTimeout(function () {
                                                                                                                  methylene_blue_drop2.style.opacity = "0%"
                                                                                                                     methylene_blue_tube.style.opacity = "100%" 
                                                                                                                     methylene_blue_1ml.style.opacity = "0%"
                                                                                                                   setTimeout(function () {
                                                                                                                    
                                                                                                                     milk_tube_a_2.style.opacity = "0%"
                                                                                                                     setTimeout(function () {
                                                                                                                      pipette_centrifuge2.style.bottom = "60%";
                                                                                                                        setTimeout(function () {
                                                                                                                          pipette_centrifuge2.style.left = "50.6%"
                                                                                                                            setTimeout(function () {
                                                                                                                              pipette_centrifuge2.style.bottom = "30%"
                                                                                                                            setTimeout(function () {
                                                                                                                              methylene_blue_1ml_b.style.bottom = "65%"
                                                                                                                                pipette_centrifuge2.style.bottom = "65%"
                                                                                                                                setTimeout(function () {
                                                                                                                                   methylene_blue_1ml_b.style.left = "78.6%";
                                                                                                             pipette_centrifuge2.style.left = "77.55%";
                                                                                                              setTimeout(function () {
                                                                                                                  pipette_centrifuge2.style.bottom  = "38.1%"
                                                                                                       methylene_blue_1ml_b.style.bottom = "38.2%"
                                                                                                                  setTimeout(function () {
                                                                                                                    methylene_blue_drop3.style.opacity = "100%";
                                                                                                                    methylene_blue_1ml_b.style.visibility = "hidden";
                                                                                                                     setTimeout(function () {
                                                                                                                      methylene_blue_tube_b.style.opacity = "100%"
                                                                                                                          setTimeout(function () {
                                                                                                                            milk_tube_b_2.style.opacity = "0%"
                                                                                                                                setTimeout(function () {
                                                                                                                                  pipette_centrifuge2.style.bottom = "60%"
                                                                                                                                  milk_tube_b_2.style.opacity = "0%"
                                                                                                                                  methylene_blue_1ml_b.style.opacity = "0%"
                                                                                                                                  methylene_blue_1ml_b.style.display = "none"
                                                                                                                                  methylene_blue_drop3.style.opacity = "0%"
                                                                                                                                      setTimeout(function () {
                                                                                                                                        pipette_centrifuge2.style.left = "50.3%";
                                                                                                                                            setTimeout(function () {
                                                                                                                                              pipette_centrifuge2.style.bottom = "30%"
                                                                                                                                               setTimeout(function () {
                                                                                                                                                methylene_blue_1ml_c.style.visibility  = "visible"
                                                                                                                                                methylene_blue_1ml_c.style.bottom = "60%"
                                                                                                                                                pipette_centrifuge2.style.bottom = "60%"
                                                                                                                                                   setTimeout(function () {
                                                                                                                                                    methylene_blue_1ml_c.style.left = "82.2%"
                                                                                                                                                    pipette_centrifuge2.style.left = "81.14%"
                                                                                                                                                       setTimeout(function () {
                                                                                                                                                        pipette_centrifuge2.style.bottom = "38.1%"
                                                                                                                                                        methylene_blue_1ml_c.style.bottom = "38.2%"
                                                                                                                                                     
                                                                                                                                                           setTimeout(function () {
                                                                                                                                                                      methylene_blue_drop4.style.opacity = "100%"
                                                                                                                                                                     
                                                                                                                                                                       setTimeout(function () {
                                                                                                                                                                         methylene_blue_tube_c.style.opacity = "100%"
                                                                                                                                                                         methylene_blue_1ml_c.style.opacity = "0%"
                                                                                                                                                                         setTimeout(function () {
                                                                                                                                                                          milk_tube_c_2.style.opacity = "0%"
                                                                                                                                                                          methylene_blue_drop4.style.opacity = "0%"
                                                                                                                                                                           setTimeout(function () {
                                                                                                                                                                            pipette_centrifuge2.style.bottom = "60%"
                                                                                                                                                                               setTimeout(function () {
                                                                                                                                                                                           pipette_centrifuge2.style.left = "50.6%"
                                                                                                                                                                                   setTimeout(function () {
                                                                                                                                                                                                  pipette_centrifuge2.style.bottom = "30%"
                                                                                                                                                                                                     setTimeout(function () {
                                                                                                                                                                                                        methylene_blue_1ml_d.style.opacity= "100%";
                                                                                                                                                                                                        methylene_blue_1ml_d.style.bottom = "55%";
                                                                                                                                                                                                        pipette_centrifuge2.style.bottom = "55%" ; 
                                                                                                                                                                                                         setTimeout(function () {
                                                                                                                                                                                                              methylene_blue_1ml_d.style.left = "85.88%";
                                                                                                                                                                                                        pipette_centrifuge2.style.left = "84.83%" ;
                                                                                                                                                                                                         setTimeout(function () { 
                                                                                                                                                                                                                methylene_blue_1ml_d.style.bottom = "40%";
                                                                                                                                                                                                        pipette_centrifuge2.style.bottom = "40%" ; 
                                                                                                                                                                                                        
                                                                                                                                                                                                           setTimeout(function () {
                                                                                                                                                                                                        methylene_blue_drop5.style.opacity = "100%"
                                                                                                                                                                                                           setTimeout(function () {
                                                                                                                                                                                                            methylene_blue_tube_d.style.opacity ="100%";
                                                                                                                                                                                                            methylene_blue_1ml_d.style.opacity = "0%"
                                                                                                                                                                                                               setTimeout(function () {
                                                                                                                                                                                                                milk_tube_d_2.style.opacity = "0%"
                                                                                                                                                                                                                methylene_blue_drop5.style.opacity = "0%"
                                                                                                                                                                                                                methylene_blue_drop5.style.display = "none"
                                                                                                                                                                                                                 setTimeout(function () {
                                                                                                                                                                                                                  pipette_centrifuge2.style.bottom = "60%"
                                                                                                                                                                                                                   setTimeout(function () {
                                                                                                                                                                                                                    pipette_centrifuge2.style.left = "30%"
                                                                                                                                                                                                                      setTimeout(function () {
                                                                                                                                                                                                                     pipette_centrifuge2.style.rotate = "-90deg";
                                                                                                                                                                                                                     pipette_centrifuge2.style.bottom = "-4%";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }, 1000);
                                                                                                                                                                                                                      
                                                                                                                                                                                                                           f = 104.5;
                                                                                                                                                                                                                            ins.innerText = "Click on the Stopper A to put stopper on each tube"                                                                                                                                                                                                                                                                                                                                                                                                                      }, 1000);
                                                                                                                                                                                                                    }, 1000);
                                                                                                                                                                                                                  }, 1000);
                                                                                                                                                                                                                     }, 100);
                                                                                                                                                                                                              }, 1000);
                                                                                                                                                                                                                }, 1000);
                                                                                                                                                                                                                  }, 1000);  
                                                                                                                                                                                                                    }, 1000);
                                                                                                                                                                                                        }, 1000);
                                                                                                                                                                                                          }, 1000);
                                                                                                                                                                           }, 1000);
                                                                                                                                                                              }, 1000);
                                                                                                                                                                                 }, 500);
                                                                                                                                                                               }, 500);
                                                                                                                        }, 1000);
                                                                                                                     }, 1000);
                                                                                                                                                   }, 1000);
                                                                                                                        }, 1000);
                                                                                                                     }, 1000);
                                                                                                                  }, 1000);
                                                                                                                                    }, 100);
                                                                                                                       }, 1000);
                                                                                                                     }, 1000);
                                                                                                                  }, 1000);
                                                                                                                                    },1000);
                                                                                                                                      }, 1000);
                                                                                                                                        }, 1000);
                                                                                                                                          }, 1000);
                                                                                                                       },1000);
                                                                                                                     }, 500);
                                                                                                                   }, 1000);
                                                                                                                  }, 1000);
                                                                                                                  
                                                                                                            }, 1000);
                                                                                                        }, 1000);
                                                                                                         }, 1000);
                                                                                                      }, 1000);
                                                                                                       }, 1000);
                                                                                                   }, 1000);

                                                                                          }
                                                                                        }, { once: true });

                                                                                      }, 1000);

                                                                                    }, 1000);

                                                                                  }, 1000);

                                                                                }, 1000);

                                                                              }, 1000);

                                                                            }, 1000);

                                                                          }, 1000);

                                                                        }, 1000);

                                                                      },1000);

                                                                    }, 1000);

                                                                  }, 1000);

                                                                }, 1000);

                                                              }, 1000);

                                                            }, 1000);

                                                          }, 1000);
                                                        }

                                                      }, 1000);

                                                    }, 1000);

                                                  }, 1000);

                                                }, 1000);

                                              }, 1000);

                                            }, 1000);

                                          }, 1000);

                                        }, 1000);

                                      }, 1000);

                                    }, 1000);

                                  }, 1000);

                                }, 1000);

                              }, 1000);

                            }, 1000);

                          }, 1000);

                        }, 1000);

                      }, 1000);

                    }, 1000);

                  }, 1000);

                }, 1000);

              }, 1000);

            }, 1000);

          }, 1000);

        }, 1000);

      }, 1000);

    }, { once: true });

  }
}

tube_cap_a.addEventListener("click", () => {
   if(f === 104.5){
    f = 105.5;
    tube_cap_a.style.bottom = "55%"
      setTimeout(() => {
        tube_cap_a.style.left = "74.35%"
           setTimeout(() => {
            tube_cap_a.style.bottom = "48%"
               setTimeout(() => {
                  tube_cap_b.style.bottom = "55%";
                   setTimeout(() => {
                       tube_cap_b.style.left = "77.68%";
                        setTimeout(() => {
                              tube_cap_b.style.bottom = "48%";
                              closed_methylene_blue_tube_a.style.visibility = "visible"
                              test_tube_a_2.style.display = "none"
                              tube_cap_a.style.display = "none"
                              methylene_blue_tube.style.display = "none"
                          setTimeout(() => {
                            tube_cap_c.style.bottom = "60%"
                             setTimeout(() => {
                              tube_cap_c.style.left = "81.43%"
                               setTimeout(() => {
                                tube_cap_c.style.bottom = "48%"
                                closed_methylene_blue_tube_b.style.visibility = "visible"
                              test_tube_b_2.style.display = "none"
                              tube_cap_b.style.display = "none"
                                   methylene_blue_tube_b.style.display = "none"
                                   setTimeout(() => {
                                    tube_cap_d.style.bottom = "55%"
                                      setTimeout(() => {
                                        tube_cap_d.style.left = "85%"
                                         setTimeout(() => {
                                            tube_cap_d.style.bottom = "48%"
                                             closed_methylene_blue_tube_c.style.visibility = "visible"
                              test_tube_c.style.display = "none"
                              tube_cap_c.style.display = "none";
                                   methylene_blue_tube_c.style.display = "none"
                              startbutton.innerText = "NEXT"
                               setTimeout(() => {
                                    closed_methylene_blue_tube_d.style.visibility = "visible"
                              test_tube_d.style.display = "none"
                              tube_cap_d.style.display = "none"
                                   methylene_blue_tube_d.style.display = "none"
                    ;
                    f=106.5;
                    ins.innerText = "Click on NEXT button"
                    startbutton.style.visibility = "visible"
                                  }, 100);
                                          }, 1000);
                                        }, 1000);
                                          }, 1000);
                                      }, 1000);
                                            }, 1000);
                                                  }, 1000);
                           }, 1000);
                      }, 1000);
                        }, 1000);
                          }, 1000);
          }, 1000);
   }else{(console.log(" the value of f is anot 104.5 ", f))}
  })


                                              function zoominout(element) {
                                                element.classList.add("pulse-effect");
                                                setTimeout(() => {
                                                    element.classList.remove("pulse-effect");
                                                }, 0);
                                            }

function pulse(element) {
    element.classList.add("pulse-effect");
    setTimeout(() => {
        element.classList.remove("pulse-effect");
    }, 1000);
}


offSwitch2.addEventListener("click", () => {
  if(f === 107.5){
    f = 111.5
    console.log("off switch clicked")
    pulse(onSwitch2);
    onSwitch2.style.opacity = "100%";
    offSwitch2.style.opacity = "0%";

    onSwitch2.style.borderRadius = "30%";
    setTimeout(() => {
        onSwitch2.style.borderRadius = "50%";
    }, 1000);

    // Show temperatures
    setTempDisplay2.style.opacity = "100%";
    actualTempDisplay2.style.display = "block";
    actualTempDisplay2.style.opacity = "100%"
  
    pulse(actualTempDisplay2);
    sampleTempDisplay2.style.display = "block";
    sampleTempDisplay2.style.opacity = "100%";
    sampleTempDisplay2.style.visibility = "visible";

    pulse(sampleTempDisplay2);
    zoominout(sampleTempDisplay2);
    // Reset sample temperature display
    sampleTempDisplay2.textContent = "25°C";
    
    actualTempDisplay2.textContent = `${currentTemp}°C`;
    sampleTempDisplay2.textContent = `${currentTemp}°C`;

    ins.innerText = "Click on the Increase symbol to increase the water bath PV to 37°C";
  }else{console.log("the value for off button is not 107.5",f)}
});

upOffSwitch2.addEventListener("click", () => {
    if (f === 111.5 && currentTemp < targetTemp) {
         console.log("upoff switch")
        currentTemp  += 2;
        ins.innerText = "Again Click ↑ button to raise temperature to 100°C"
        sampleTempDisplay2.textContent = `${currentTemp}°C`;
        pulse(upOffSwitch2);

        if (currentTemp === targetTemp && !timerStarted) {
            f = 153;
            timerStarted = true;
            ins.innerText = "Click on the Set button and wait till SV reach desired temperature";
          setOff2.addEventListener("click", () => {
    pulse(setOff2);
    console.log("set button active");

    const sampleTarget = currentTemp;

    raiseActualTempToSample(sampleTarget, () => {
        // 🔥 Temp matched, but DO NOT start timer
        bathReadyForHolding = true;
        ins.innerText = "Click on Tube A to Gently Shaking And to put all tubes into water bath for 2 hours";
        pulse(ins);
        f = 201;
    });

}, { once: true });

        }
    }
});

function raiseActualTempToSample(sampleTarget, onDone) {
    let actualTemp = parseFloat(actualTempDisplay2.textContent);

    const tempInterval = setInterval(() => {
        if (actualTemp < sampleTarget) {
            actualTemp += 2;
            actualTempDisplay2.textContent = `${actualTemp}°C`;
        } else {
            clearInterval(tempInterval);
            actualTempDisplay2.textContent = `${sampleTarget}°C`;
            if (onDone) onDone(); // 🔥 callback when temps match
        }
    }, 1000);
}






function onAllTubesInserted() {
    if (!bathReadyForHolding) return;

    bathReadyForHolding = false; // prevent re-trigger
    console.log("All tubes inserted → starting holding timer");
   closed_methylene_blue_tube_a.style.visibility = "hidden"
   closed_white_tube_a_mbrt.style.visibility = "visible"
   ins.innertext = "Wait For 2 hours"
    startHoldingTimer(30); // minutes
}



closed_methylene_blue_tube_a.addEventListener("click", () => {
    if(f === 201){
      152;
  stp39.style.visibility = "visible";
  closed_methylene_blue_tube_b.style.visibility = "visible"
  test_tube_b_2.style.opacity = "0%"
                      test_tube_c_2.style.opacity = "0%"
                      test_tube_d_2.style.opacity = "0%"

 console.log("tube cap ready to be clicked")
 closed_methylene_blue_tube_a.style.bottom = "60%"
 
  
                
                    setTimeout(function(){
                     closed_methylene_blue_tube_a.style.transform = "rotate(180deg)"
                      
                         
                          setTimeout(function(){
                                       closed_methylene_blue_tube_a.style.opacity = "0%"
                                      closed_methylene_blue_tube_a.style.visibility = "block"
                                      inverted_methylene_blue_tube_a.style.opacity = "100%"
                           
                              
                  tube_cap_b.style.opacity = "0%"
                  test_tube_a_2.style.opacity = "0%"
                 
                           closed_methylene_blue_tube_a.style.opacity = "100%"
                  closed_methylene_blue_tube_b.style.opacity = "100%"
                   f = 152;
                
                  // methylene_blue_tube_b.style.visibility = ""
                         
                         
                          
         if (f === 152) {
        f = 153;
        
         setTimeout(() => {
            
                 
                     

                           setTimeout(() => {
               
                  closed_methylene_blue_tube_a.style.transform = "rotate(180deg)"
                             
                      

                            
                                  setTimeout(() => {
                                      closed_methylene_blue_tube_a.style.opacity = "0%"
                                      closed_methylene_blue_tube_a.style.visibility = "block"
                                      inverted_methylene_blue_tube_a.style.opacity = "100%"
                                      setTimeout(() => {
                                        inverted_methylene_blue_tube_a.style.transform = "rotate(180deg)"
                                        closed_methylene_blue_tube_a.style.transform = "rotate(0deg)"
                                        setTimeout(() => {

                                          inverted_methylene_blue_tube_a.style.opacity= "0%"
                                          closed_methylene_blue_tube_a.style.opacity= "100%"
                                          setTimeout(() => {
                                            closed_methylene_blue_tube_a.style.transform = "rotate(-180deg)"
                                            inverted_methylene_blue_tube_a.style.transform = "rotate(0deg)"
                                            setTimeout(() => {
                                              inverted_methylene_blue_tube_a.style.opacity= "100%"
                                              closed_methylene_blue_tube_a.style.opacity= "0%"
                                              setTimeout(() => {
                                        setTimeout(() => {
                                       closed_methylene_blue_tube_a.style.transform = "rotate(0deg)"
                                            inverted_methylene_blue_tube_a.style.transform = "rotate(180deg)"
                                    
                                        setTimeout(() => {
                                          
                                            inverted_methylene_blue_tube_a.style.opacity= "0%"
                                              closed_methylene_blue_tube_a.style.opacity= "100%"
                            setTimeout(() => {
                               closed_methylene_blue_tube_a.style.left = "13.6%"
                            setTimeout(() => {    
                                closed_methylene_blue_tube_a.style.height = "28%"
                                  closed_methylene_blue_tube_a.style.width = "1.3%"
                                   setTimeout(() => {  
                                         closed_methylene_blue_tube_a.style.bottom = "11%"
                                             setTimeout(() => {  
                                              closed_methylene_blue_tube_b.style.bottom = "60%"
                                                setTimeout(() => { 
                                                      closed_methylene_blue_tube_b.style.transform = "rotate(180deg)"
                                                    setTimeout(() => { 
                                                              closed_methylene_blue_tube_b.style.opacity = "0%"
                                                              
                                      inverted_methylene_blue_tube_b.style.opacity = "100%"
                                                        setTimeout(() => {     
                                                                        inverted_methylene_blue_tube_b.style.transform = "rotate(180deg)"
                                        closed_methylene_blue_tube_b.style.transform = "rotate(0deg)"     
                                                            setTimeout(() => { 
                                                                             inverted_methylene_blue_tube_b.style.opacity= "0%"
                                          closed_methylene_blue_tube_b.style.opacity= "100%"
                                                                setTimeout(() => { 
                                                                   closed_methylene_blue_tube_b.style.transform = "rotate(-180deg)"
                                            inverted_methylene_blue_tube_b.style.transform = "rotate(0deg)"
                                                                    setTimeout(() => { 
                                                                          inverted_methylene_blue_tube_b.style.opacity= "100%"
                                              closed_methylene_blue_tube_b.style.opacity= "0%"
                                                                        setTimeout(() => { 
                                                                            closed_methylene_blue_tube_b.style.transform = "rotate(0deg)"
                                            inverted_methylene_blue_tube_b.style.transform = "rotate(180deg)"
                                              setTimeout(() => { 
                                                    inverted_methylene_blue_tube_b.style.opacity= "0%"
                                              closed_methylene_blue_tube_b.style.opacity= "100%"
                                                  setTimeout(() => { 
                                                      closed_methylene_blue_tube_b.style.left = "18.4%"
                                                      setTimeout(() => { 
                                                            closed_methylene_blue_tube_b.style.height = "28%"
                                  closed_methylene_blue_tube_b.style.width = "1.3%"
                                                          setTimeout(() => { 
                                                            closed_methylene_blue_tube_b.style.bottom = "11%"
                                                              setTimeout(() => { 
                                                                      closed_methylene_blue_tube_c.style.bottom = "60%"
                                                                          setTimeout(() => { 
                                                                               closed_methylene_blue_tube_c.style.transform = "rotate(180deg)"
                                                                                setTimeout(() => { 
                                                                                   closed_methylene_blue_tube_c.style.opacity = "0%"
  
                                      inverted_methylene_blue_tube_c.style.opacity = "100%"
                                                                                      setTimeout(() => { 
                                                                                         inverted_methylene_blue_tube_c.style.transform = "rotate(180deg)"
                                        closed_methylene_blue_tube_c.style.transform = "rotate(0deg)"    
                                                                                            setTimeout(() => { 
                                                                                                inverted_methylene_blue_tube_c.style.opacity= "0%"
                                          closed_methylene_blue_tube_c.style.opacity= "100%"
                                                                                                  setTimeout(() => { 
                                                                                                     closed_methylene_blue_tube_c.style.transform = "rotate(-180deg)"
                                            inverted_methylene_blue_tube_c.style.transform = "rotate(0deg)"
                                                                                                        setTimeout(() => { 
                                                                                                           inverted_methylene_blue_tube_c.style.opacity= "100%"
                                              closed_methylene_blue_tube_c.style.opacity= "0%"
                                                                                                              setTimeout(() => { 
                                                                                                                 closed_methylene_blue_tube_c.style.transform = "rotate(0deg)"
                                            inverted_methylene_blue_tube_b.style.transform = "rotate(180deg)"
                                              setTimeout(() => { 
                                                 inverted_methylene_blue_tube_b.style.opacity= "0%"
                                              closed_methylene_blue_tube_b.style.opacity= "100%"
                                                  setTimeout(() => { 
                                                     inverted_methylene_blue_tube_c.style.opacity= "0%"
                                              closed_methylene_blue_tube_c.style.opacity= "100%"
                                                      setTimeout(() => { 
                                                           closed_methylene_blue_tube_c.style.left = "22.6%"
                                                             setTimeout(() => { 
                                                                           closed_methylene_blue_tube_c.style.height = "28%"
                                  closed_methylene_blue_tube_c.style.width = "1.3%"
                                                                setTimeout(() => { 
                                                                           closed_methylene_blue_tube_c.style.bottom = "11%"
                                                                    setTimeout(() => { 
                                                                           closed_methylene_blue_tube_d.style.bottom = "60%"
                                                                      setTimeout(() => { 
                                                                         closed_methylene_blue_tube_d.style.transform = "rotate(180deg)"
                                                                        setTimeout(() => { 
                                                                                                                    closed_methylene_blue_tube_d.style.opacity = "0%"
                                                                                                                              inverted_methylene_blue_tube_d.style.opacity = "100%"
                                                                          setTimeout(() => { 
                                                                              inverted_methylene_blue_tube_d.style.transform = "rotate(180deg)"
                                        closed_methylene_blue_tube_d.style.transform = "rotate(0deg)" 
                                                                            setTimeout(() => { 
                                                                                inverted_methylene_blue_tube_d.style.opacity= "0%"
                                          closed_methylene_blue_tube_d.style.opacity= "100%"
                                                                              setTimeout(() => { 
                                                                                closed_methylene_blue_tube_d.style.transform = "rotate(-180deg)"
                                            inverted_methylene_blue_tube_d.style.transform = "rotate(0deg)"
                                                                                setTimeout(() => { 
                                                                                        inverted_methylene_blue_tube_d.style.opacity= "100%"
                                              closed_methylene_blue_tube_d.style.opacity= "0%"
                                                                                  setTimeout(() => { 
                                                                                       closed_methylene_blue_tube_d.style.transform = "rotate(0deg)"
                                            inverted_methylene_blue_tube_d.style.transform = "rotate(180deg)"
                                                                                    setTimeout(() => { 
                                                                                        inverted_methylene_blue_tube_d.style.opacity= "0%"
                                              closed_methylene_blue_tube_d.style.opacity= "100%"

                                                 setTimeout(() => { 
                                                  closed_methylene_blue_tube_d.style.left = "26.6%"
                                                     setTimeout(() => { 
                                                       closed_methylene_blue_tube_d.style.height = "28%"
                                  closed_methylene_blue_tube_d.style.width = "1.3%"
                                  f === 121;
                                                         setTimeout(() => { 
                                                        closed_methylene_blue_tube_d.style.bottom = "11%"
                                                              onAllTubesInserted();
                                                              },1000) 
                                                              },1000) 
                                                              },1000) 
                                                                                       },1000) 
                                                                                        },1000) 
                                                                                         },1000) 
                                                                                          },1000) 
                                                                                           },1000) 
                                                                                            },1000) 
                                                                                             },1000) 
                                                                                              },1000) 
                                                                        },1000) 
                                                                          },1000) 
                                                                            },1000) 
                                                           },0) 
                                                              },0) 
                                                                 },0) 
                                                                                                                       },1000)   
                                                                                                                              },1000)   
                                                                                                                                     },1000)   
                                                                                                                                            },1000)   
                                                                                                                                                   },1000)   
                                                                                                                                                          },1000)   
                                                                                                                                                                 },1000)   
                                                                   },1000)   
                                                                      },1000)   
                                                                         },1000)   
                                                                            },1000)   
                                                                               },1000)   

                                                               },1000)               
                                                                 },1000) 
                                                                   },1000) 
                                                                     },1000) 
                                                     },1000)     
                                                     },1000)
                                                     },1000)
                                            },1000)
                                      },1000)
            },1000)
        },1000)
  },1000)
 }, 1000);
}, 1000);
}, 1000);
}, 1000); // 1500
}, 1000);
}, 1000);
                                   }, 1000);
                         
                   }, 1000);
                         
               }, 1000);
         }
        
         }, 1000);
                            }, 10);
              
                
  
  
                          }else{(console.log("the value is not 107.5", f))}
                        })


let currentTemp = 25;
let targetTemp = 37;
let timerStarted = false;
let countdownInterval;


onSwitch2.style.visibility = "hidden";

onSwitch2.style.visibility = "hidden";

actualTempDisplay2.style.display = "none";
sampleTempDisplay2.style.display = "none";



function startHoldingTimer(minutes) {

    let seconds = minutes * 60;
    let currentTemp = 20; // Starting temperature
    const targetTemp = 100;

    
    actualTempDisplay2.style.display = "block"; // Optional if you have a bath temp display
   
    // 🔥 Interval to increase bath temperature slowly
    const tempInterval = setInterval(() => {
        if (currentTemp < targetTemp) {
            currentTemp += 2; // Increase temp slowly
         
        } else {
            clearInterval(tempInterval);
          
        }
    } , 10  ); //  480 every 0.5s adjust as needed

    // ⏲️ Countdown Timer
    const countdownInterval = setInterval(() => {
       timerDisplay_mbrt.style.visibility = "visible";
        let min = Math.floor(seconds / 60);
        let sec = seconds % 60;
       timerDisplay_mbrt.textContent = `${String(min).padStart(2, "0")}:${String(sec).padStart(2, "0")}`;
        seconds--;

        if (seconds < 0) {
            clearInterval(countdownInterval);
            clearInterval(tempInterval); // Stop temperature interval too
            timerDisplay_mbrt.textContent = "00:00";
            ins.innerText = "Click on Observe Sample A to observe it";
            f = 991;
            observation_table_mbrt.style.display = "block"
            observation_table_mbrt.style.visibility = "visible"
            pulse(ins); // your existing animation
        }
    }, 1);  //100
}





function observeA_mbrt(){
  if(f=== 991){
    f = 992;
     hello_world_mbrt();
     
  }
}

function observeB_mbrt(){
  if(f=== 993){
    f = 994;
     hello_world_mbrt_b();
    
  }else if(f === 1000){
     f = 1001;
      closed_white_tube_b_mbrt.style.visibility = "visible"
      closed_methylene_blue_tube_b.style.visibility = "hidden" 
      hello_world_mbrt_b_b();
  }else{(console.log("f is not 993 or 1000", f))}
}

function observeC_mbrt(){
  if(f=== 995){
    f = 996;
     hello_world_mbrt_c();
    
  }else if(f === 1002){
       f = 1003;
        hello_world_mbrt_c_b();
  }else if(f === 1007){
    f = 1008;
        hello_world_mbrt_c_c();
  }else{(console.log("value of f is not 995", f))}
}

function observeD_mbrt(){
  if(f=== 997){
    f = 998;
     hello_world_mbrt_d();
    
  }else if(f === 1004){
       f = 1005;
        hello_world_mbrt_d_b();
  }else if(f === 1009){
     f = 1010;
        hello_world_mbrt_d_c();
  }else if(f === 1012){
    f = 1013;
    closed_white_tube_d_mbrt.style.visibility = "visible"
      closed_methylene_blue_tube_d.style.visibility = "hidden" 
        hello_world_mbrt_d_d();
  }else{(console.log("value of f is not 995", f))}
}
function showValues(sample) {
  document.getElementById("time-" + sample).style.visibility = "visible";
  document.getElementById("quality-" + sample).style.visibility = "visible";
}


function hello_world_mbrt(){
    if(f=== 992){
      f = 992.5;
      closed_white_tube_a_mbrt.style.bottom = "40%"
       setTimeout(() => {
        closed_white_tube_a_mbrt.style.left = "50%"
        setTimeout(() => {
        closed_white_tube_a_mbrt.style.height = "50.2%"
        closed_white_tube_a_mbrt.style.width = "3.3%"
        ins.innerText = "Sample is completely decolourised in 30 minutes , Now click on Observe sample B to observe it"
         setTimeout(() => {
        showValues("A");
        
            setTimeout(() => {
                  closed_white_tube_a_mbrt.style.height = "49%"
        closed_white_tube_a_mbrt.style.width = "2.4%"
               setTimeout(() => {
                closed_white_tube_a_mbrt.style.left = "74.3%"
                 setTimeout(() => {
                  closed_white_tube_a_mbrt.style.bottom = "11.8%"
                  f = 993;
                   },1000)
                    },1000)
                     },2000)  // 2000
                        },1000)
          },1000)
       },1000)
    }else{(console.log("f = 992 is not running", f))}
}


function hello_world_mbrt_b(){
    if(f=== 994){
      f=994.5;
      closed_methylene_blue_tube_b.style.bottom = "40%"
       setTimeout(() => {
        closed_methylene_blue_tube_b.style.left = "50%"
       
  time_B.textContent = "Not Decoularized Yet";
  quality_B.textContent = "Wait";

        setTimeout(() => {
        closed_methylene_blue_tube_b.style.height = "55.2%"
        closed_methylene_blue_tube_b.style.width = "3%"
        ins.innerText = "Sample B not decolourised yet put again in water bath"        
              showValues("B");
            setTimeout(() => {
                  closed_methylene_blue_tube_b.style.left = "18.4%"
               setTimeout(() => {
            
                    closed_methylene_blue_tube_b.style.height = "28%"
        closed_methylene_blue_tube_b.style.width = "1.3%"
                 setTimeout(() => {
                 closed_methylene_blue_tube_b.style.bottom = "11.8%"
                  f = 995;
                  ins.innerText = "Now click on Observe Sample C"
                   },1000)
                    },1000)
                     },2000)  // 2000
          },1000)
       },1000)
    }else{(console.log("f is not 994", f))}
}

function hello_world_mbrt_b_b(){
    if(f=== 1001){
      f = 1001.5;
     console.log("closed_white_tube_b have to move")
     
    
      closed_white_tube_b_mbrt.style.bottom = "40%"
       setTimeout(() => {
        closed_white_tube_b_mbrt.style.left = "50%"
       
  time_B.textContent = "2.5";
  quality_B.textContent = "Bad";

        setTimeout(() => {
        closed_white_tube_b_mbrt.style.height = "55.2%"
        closed_white_tube_b_mbrt.style.width = "3%"
        ins.innerText = "Sample B decolourised put into stand"        
              showValues("B");
            setTimeout(() => {
                  closed_white_tube_b_mbrt.style.left = "77.77%"
               setTimeout(() => {
            
                    closed_white_tube_b_mbrt.style.height = "49%"
        closed_white_tube_b_mbrt.style.width = "2.4%"
                 setTimeout(() => {
                 closed_white_tube_b_mbrt.style.bottom = "11.8%"
                  f = 1002;
                  ins.innerText = "Now click on Observe Sample C"
                   },1000)
                    },1000)
                     },2000)
          },1000)
       },1000)
    }else{(console.log("f is not 1001", f))}
}



function hello_world_mbrt_c(){
    if(f=== 996){
      f = 996.5;
      closed_methylene_blue_tube_c.style.bottom = "40%"
       setTimeout(() => {
        closed_methylene_blue_tube_c.style.left = "50%"
       
  time_C.textContent = "Not Decoularized Yet";
  quality_C.textContent = "Wait";

        setTimeout(() => {
        closed_methylene_blue_tube_c.style.height = "55.2%"
        closed_methylene_blue_tube_c.style.width = "3%"
        ins.innerText = "Sample C not decolourised yet put again in water bath"  
          setTimeout(() => {      
              showValues("C");
            setTimeout(() => {
                  closed_methylene_blue_tube_c.style.left = "22.6%"
               setTimeout(() => {
            
                    closed_methylene_blue_tube_c.style.height = "28%"
        closed_methylene_blue_tube_c.style.width = "1.3%"
                 setTimeout(() => {
                 closed_methylene_blue_tube_c.style.bottom = "11.8%"
                  f = 997;
                  ins.innerText = "Now click on Observe Sample D"
                   },1000)
                    },1000)
                     },2000)  // 2000
                     },50)   // 500
          },1000)
       },1000)
    }else{(console.log("the value of f is not 996", f))}
}



function hello_world_mbrt_c_b(){
    if(f=== 1003){
      f = 1003.5;
     console.log("closed_white_tube_b have to move")
     
      closed_methylene_blue_tube_c.style.bottom = "40%"
       setTimeout(() => {
        closed_methylene_blue_tube_c.style.left = "50%"
       
  

        setTimeout(() => {
        closed_methylene_blue_tube_c.style.height = "55.2%"
        closed_methylene_blue_tube_c.style.width = "3%"
        ins.innerText = "Sample C not decolourised yet put into water bath"        
              showValues("C");
            setTimeout(() => {
                  closed_methylene_blue_tube_c.style.left = "22.6%"
               setTimeout(() => {
            
                    closed_methylene_blue_tube_c.style.height = "28%"
        closed_methylene_blue_tube_c.style.width = "1.3%"
                 setTimeout(() => {
                 closed_methylene_blue_tube_c.style.bottom = "11.8%"
                  f = 1004;
                  ins.innerText = "Now click on Observe Sample C"
                   },1000)
                    },1000)
                     },2000)
          },1000)
       },1000)
    }else{(console.log("f is not 1001", f))}
}

function hello_world_mbrt_c_c(){
    if(f=== 1008){
         f = 1008.5;
      console.log("closed_white_tube_b have to move")
     
    
      closed_white_tube_c_mbrt.style.bottom = "40%"
       setTimeout(() => {
        closed_white_tube_c_mbrt.style.left = "50%"
       
  time_C.textContent = "4.5";
  quality_C.textContent = "Fair";

        setTimeout(() => {
        closed_white_tube_c_mbrt.style.height = "55.2%"
        closed_white_tube_c_mbrt.style.width = "3%"
        ins.innerText = "Sample B decolourised put into stand"        
              showValues("C");
            setTimeout(() => {
                  closed_white_tube_c_mbrt.style.left = "81.2%"
               setTimeout(() => {
            
                    closed_white_tube_c_mbrt.style.height = "49%"
        closed_white_tube_c_mbrt.style.width = "2.4%"
                 setTimeout(() => {
                 closed_white_tube_c_mbrt.style.bottom = "11.8%"
                  f = 1009;
                  ins.innerText = "Now click on Observe Sample D"
                   },1000)
                    },1000)
                     },2000)
          },1000)
       },1000)
    }else{(console.log("the value of f is not 996", f))}
}

function hello_world_mbrt_d(){
    if(f=== 998){
       f = 998.5;
      closed_methylene_blue_tube_d.style.bottom = "40%"
       setTimeout(() => {
        closed_methylene_blue_tube_d.style.left = "50%"
       
  time_D.textContent = "Not Decoularized Yet";
  quality_D.textContent = "Wait";

        setTimeout(() => {
        closed_methylene_blue_tube_d.style.height = "55.2%"
        closed_methylene_blue_tube_d.style.width = "3%"
        ins.innerText = "Sample C not decolourised yet put again in water bath"  
          setTimeout(() => {      
              showValues("D");
            setTimeout(() => {
                  closed_methylene_blue_tube_d.style.left = "26.6%"
               setTimeout(() => {

                    closed_methylene_blue_tube_d.style.height = "28%"
        closed_methylene_blue_tube_d.style.width = "1.3%"
                 setTimeout(() => {
                 closed_methylene_blue_tube_d.style.bottom = "11.8%"
                  f = 999;
                  ins.innerText = "Now heat all butyrometer again for 2 hours more"
                     time_B.style.visibility = "hidden"
                     time_C.style.visibility = "hidden"
                     time_D.style.visibility = "hidden"
                     quality_B.style.visibility  = "hidden"
                      quality_C.style.visibility  = "hidden"
                      quality_D.style.visibility  = "hidden"
                       setTimeout(() => {
                      startHoldingTimer_mbrt_b(120);
                      
                       },1000)
                   },2000)  // 3000
                    },100)
                     },2000) //2000
                     },500)  // 500
          },1000)
       },1000)  //
    }
}

function hello_world_mbrt_d_b(){
    if(f=== 1005){
       f = 1005.5;
      closed_methylene_blue_tube_d.style.bottom = "40%"
       setTimeout(() => {
        closed_methylene_blue_tube_d.style.left = "50%"
       
  time_D.textContent = "Not Decoularized Yet";
  quality_D.textContent = "Wait";

        setTimeout(() => {
        closed_methylene_blue_tube_d.style.height = "55.2%"
        closed_methylene_blue_tube_d.style.width = "3%"
        ins.innerText = "Sample C not decolourised yet put again in water bath"  
          setTimeout(() => {      
              showValues("D");
            setTimeout(() => {
                  closed_methylene_blue_tube_d.style.left = "26.6%"
               setTimeout(() => {

                    closed_methylene_blue_tube_d.style.height = "28%"
        closed_methylene_blue_tube_d.style.width = "1.3%"
                 setTimeout(() => {
                 closed_methylene_blue_tube_d.style.bottom = "11.8%"
                  f = 1006;
                  ins.innerText = "Now heat all butyrometer again for 2 hours more"
                   
                     time_C.style.visibility = "hidden"
                     time_D.style.visibility = "hidden"
                    
                      quality_C.style.visibility  = "hidden"
                      quality_D.style.visibility  = "hidden"
                       setTimeout(() => {
                      startHoldingTimer_mbrt_b_b(120);
                      
                       },1000)
                   },3000)  // 3000
                    },1000)
                     },2000) //2000
                     },500)  // 500
          },1000)
       },1000)  //
    }
}

function hello_world_mbrt_d_c(){
    if(f=== 1010){
        f = 1010.5
      closed_methylene_blue_tube_d.style.bottom = "40%"
       setTimeout(() => {
        closed_methylene_blue_tube_d.style.left = "50%"
       
  time_D.textContent = "Not Decoularized Yet";
  quality_D.textContent = "Wait";

        setTimeout(() => {
        closed_methylene_blue_tube_d.style.height = "55.2%"
        closed_methylene_blue_tube_d.style.width = "3%"
        ins.innerText = "Sample D not decolourised yet put again in water bath"  
          setTimeout(() => {      
              showValues("D");
            setTimeout(() => {
                  closed_methylene_blue_tube_d.style.left = "26.6%"
               setTimeout(() => {

                    closed_methylene_blue_tube_d.style.height = "28%"
        closed_methylene_blue_tube_d.style.width = "1.3%"
                 setTimeout(() => {
                 closed_methylene_blue_tube_d.style.bottom = "11.8%"
                  
                  ins.innerText = "Now heat only D tube for 1 hours more"
                   
                    
                     time_D.style.visibility = "hidden"
                    

                      quality_D.style.visibility  = "hidden"
                       setTimeout(() => {
                        f = 1011;
                      startHoldingTimer_mbrt_b_c(60);
                      
                       },1000)
                   },3000)  // 3000
                    },1000)
                     },2000) //2000
                     },500)  // 500
          },1000)
       },1000)  //
    }
}

function hello_world_mbrt_d_d(){
    if(f=== 1013){
        f = 1013.5
      console.log("closed_white_tube_b have to move")
     
    
      closed_white_tube_d_mbrt.style.bottom = "40%"
       setTimeout(() => {
        closed_white_tube_d_mbrt.style.left = "50%"
       
  time_D.textContent = "5.5";
  quality_D.textContent = "Good";

        setTimeout(() => {
        closed_white_tube_d_mbrt.style.height = "55.2%"
        closed_white_tube_d_mbrt.style.width = "3%"
        ins.innerText = "Sample D decolourised put into stand"        
              showValues("D");
            setTimeout(() => {
                  closed_white_tube_d_mbrt.style.left = "85%"
               setTimeout(() => {
            
                    closed_white_tube_d_mbrt.style.height = "49%"
        closed_white_tube_d_mbrt.style.width = "2.4%"
                 setTimeout(() => {
                 closed_white_tube_d_mbrt.style.bottom = "11.8%"
                  f = 1014;
                  ins.innerText = "Now click on Show Inference Button"
                  inferenceBtn_mbrt.style.visibility = "visible"
                  inferenceBtn_mbrt.style.display = "block"
                   },1000)
                    },1000)
                     },2000)
          },1000)
       },1000)
    }else{(console.log("the value of f is not 996", f))}
}


function startHoldingTimer_mbrt_b(minutes) {
     if(f === 999){
    let seconds = minutes * 60;
    let currentTemp = 20; // Starting temperature
    const targetTemp = 100;
    
    closed_methylene_blue_tube_b.style.visibility = "hidden"
     closed_methylene_blue_tube_b.style.visibility = "visible"
    
    actualTempDisplay2.style.display = "block"; // Optional if you have a bath temp display
   
    // 🔥 Interval to increase bath temperature slowly
    const tempInterval = setInterval(() => {
        if (currentTemp < targetTemp) {
            currentTemp += 2; // Increase temp slowly
      
        } else {
            clearInterval(tempInterval);

        }
    } , 0 ); //  480 every 0.5s adjust as needed

    // ⏲️ Countdown Timer
    const countdownInterval = setInterval(() => {
       timerDisplay_mbrt.style.visibility = "visible";
        let min = Math.floor(seconds / 60);
        let sec = seconds % 60;
        timerDisplay_mbrt.textContent = `${String(min).padStart(2, "0")}:${String(sec).padStart(2, "0")}`;
        seconds--;

        if (seconds < 0) {
            clearInterval(countdownInterval);
            clearInterval(tempInterval); // Stop temperature interval too
            timerDisplay_mbrt.textContent = "00:00";
            ins.innerText = "Now click on Observe Sample B";
            f = 1000;
            

            observation_table_mbrt.style.display = "block"
            observation_table_mbrt.style.visibility = "visible"
            pulse(ins); // your existing animation
        }
    }, 0);  //100
  }else{(console.log("currently f is not 999", f))}
}


function startHoldingTimer_mbrt_b_b(minutes) {
     if(f === 1006){
    let seconds = minutes * 60;
    let currentTemp = 20; // Starting temperature
    const targetTemp = 100;
    

    
    actualTempDisplay2.style.display = "block"; // Optional if you have a bath temp display
   
    // 🔥 Interval to increase bath temperature slowly
    const tempInterval = setInterval(() => {
        if (currentTemp < targetTemp) {
            currentTemp += 2; // Increase temp slowly
       
        } else {
            clearInterval(tempInterval);
     
        }
    } , 0 ); //  480 every 0.5s adjust as needed

    // ⏲️ Countdown Timer
    const countdownInterval = setInterval(() => {
       timerDisplay_mbrt.style.visibility = "visible";
        let min = Math.floor(seconds / 60);
        let sec = seconds % 60;
       timerDisplay_mbrt.textContent = `${String(min).padStart(2, "0")}:${String(sec).padStart(2, "0")}`;
        seconds--;

        if (seconds < 0) {
            clearInterval(countdownInterval);
            clearInterval(tempInterval); // Stop temperature interval too
            timerDisplay_mbrt.textContent = "00:00";
            ins.innerText = "Now click on Observe Sample B";
            f = 1007;
             closed_white_tube_c_mbrt.style.visibility = "visible"
      closed_methylene_blue_tube_c.style.visibility = "hidden" 

            observation_table_mbrt.style.display = "block"
            observation_table_mbrt.style.visibility = "visible"
            pulse(ins); // your existing animation
        }
    }, 1);  //100
  }else{(console.log("currently f is not 999", f))}
}

function startHoldingTimer_mbrt_b_c(minutes) {
     if(f === 1011){
    let seconds = minutes * 60;
    let currentTemp = 20; // Starting temperature
    const targetTemp = 100;
    

    
    actualTempDisplay2.style.display = "block"; // Optional if you have a bath temp display
   
    // 🔥 Interval to increase bath temperature slowly
    const tempInterval = setInterval(() => {
        if (currentTemp < targetTemp) {
            currentTemp += 2; // Increase temp slowly
    
        } else {
            clearInterval(tempInterval);

        }
    } , 0 ); //  480 every 0.5s adjust as needed

    // ⏲️ Countdown Timer
    const countdownInterval = setInterval(() => {
       timerDisplay_mbrt.style.visibility = "visible";
        let min = Math.floor(seconds / 60);
        let sec = seconds % 60;
    timerDisplay_mbrt.textContent = `${String(min).padStart(2, "0")}:${String(sec).padStart(2, "0")}`;
        seconds--;

        if (seconds < 0) {
            clearInterval(countdownInterval);
            clearInterval(tempInterval); // Stop temperature interval too
            timerDisplay_mbrt.textContent = "00:00";
            ins.innerText = "Now click on Observe Sample D";
            f = 1012;
             closed_white_tube_c_mbrt.style.visibility = "visible"
      closed_methylene_blue_tube_c.style.visibility = "hidden" 

            observation_table_mbrt.style.display = "block"
            observation_table_mbrt.style.visibility = "visible"
            pulse(ins); // your existing animation
        }
    }, 1);  //100
  }else{(console.log("currently f is not 999", f))}
}


showInference_mbrt()
function showInference_mbrt() {
    pulse(inferenceBtn_mbrt);
      
  if(f === 1014){
    ins.innerText = "Now read observations and inference carefully"
  inferenceBtn_mbrt.style.display = "none";
  stp39.style.visibility = "hidden"
  stp18.style.visibility = "hidden"
inferenceBox_mbrt.style.display = "block"
stp39.style.display = "none"
   console.log("1014 inference function is runnning")
   stp17.style.display = "none"
  }else{console.log("f is not 1014", f)}
}


